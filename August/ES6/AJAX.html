<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // (1)创建`XMLHttpRequest`对象,也就是创建一个异步调用对象.

        // (2)创建一个新的`HTTP`请求,并指定该`HTTP`请求的方法、`URL`及验证信息.

        // (3)设置响应`HTTP`请求状态变化的函数.

        // (4)发送`HTTP`请求.

        // (5)获取异步调用返回的数据.

        // (6)使用JavaScript和DOM实现局部刷新.

        //1、创建`XMLHttpRequest`对象
        var xmlhttp;
        if(window.XMLHttpRequest){
            xmlhttp = new XMLHttpRequest();
            //IE7+,Chrome,Firefox,Safari,Opera执行此代码
        }else{
             //IE5,IE6执行该代码
             xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
        }

        // 2.向服务器发送请求
        xmlhttp.open(method,url,async);
        // xmlhttp.open("get","demo_get.asp",ture)
        // method :请求的类型"GET"或是"POST"
        // url:文字在服务器上的位置
        // async:true（异步）或 false（同步）
        xmlhttp.send();

        // 服务器响应处理
        // 同步处理

            xmlhttp.open("GET","http://www.runoob.com/try/ajax/demo_get.php",false);
            xmlhttp.send();
            document.getElementById("mydiv").innerHTML=xmlhttp.responseText;

        // 异步处理
            xmlhttp.onreadystatechange=function () {//接收到服务端响应时触发
                if(xmlhttp.readyState==4&&xmlhttp.status==200){
                    document.getElementById("mydiv").innerHTML=xmlhttp.responseText;
                }
            }
            // 0: 请求未初始化

            // 1: 服务器连接已建立

            // 2: 请求已接收

            // 3: 请求处理中

            // 4: 请求已完成，且响应已就绪

            //status:相应状态码 200: "OK"

            // 304：该资源在上次请求之后没有任何修改（这通常用于浏览器的缓存机制，使用GET请求时尤其需要注意）。

            // 403   （禁止） 服务器拒绝请求。

            // 404   （未找到） 服务器找不到请求的网页。

            // 408  （请求超时） 服务器等候请求时发生超时。

            // 500   （服务器内部错误）  服务器遇到错误，无法完成请求。

    </script>
</body>
</html>